# 1. 查询优化

## 1.1 不在数据库做计算

禁止使用视图、存储过程、触发器等。这些操作都是不可控，随时有可能拖垮系统。可以在代码逻辑上实现以上方法。

## 1.2 禁止使用反向查询

`NOT、!=、<>、!<、!>、NOT IN、NOT LIKE`等，会导致全表扫描

## 1.3 不同类型不能进行比较

如果将不同类型比较，Mysql底层会自动进行数据类型转换，大大影响效率。

## 1.4 尽量不使用LIKE关键字的查询

如果匹配字符串的第一个字符为“%”，索引不起作用。只有“%”不在第一个位置，索引才会生效。

## 1.5 联合索引

只有查询条件中使用了这些字段中第一个字段时，索引才会生效。

## 1.6 不要使用OR

在使用or时，如果条件中有一个不是索引字段，就会导致整个索引失效。

此时，推荐大家使用in 或者 union

## 1.7 查询条件不使用函数

使用函数会导致查询结果不会进行缓存。

## 1.8 当只需要一行数据时使用limit 1

减少数据库查找。

## 1.9 不要使用select *

## 1.10 尽量不使用子查询

执行子查询时，MYSQL需要创建临时表，查询完毕后再删除这些临时表，所以，子查询的速度会受到一定的影响。

可以使用连接查询（JOIN）代替子查询，连接查询时不需要建立临时表，其速度比子查询快。另外，join关联的条件，最好也是索引字段！

# 2. 数据库结果优化

## 2.1 不要使用TEXT、BLOB类型

## 2.2 把字段定义为NOT NULL并且提默认值

## 2.3 尽量不要使用外键

## 2.4 增加中间表

## 2.5 适当增加冗余字段

## 2.6 使用 TIMESTAMP(4 个字节) 或 DATETIME 类型 (8 个字节) 存储时间

# 3. 新增数据优化

## 3.1 禁用唯一性检查

唯一性校验会降低插入记录的速度，可以在插入记录之前禁用唯一性检查，插入数据完成后再开启。

## 3.2 禁用外键

## 3.3 禁用自动提交
