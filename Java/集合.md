# 1. ArrayList

## 1.1 常用方法步骤

### 1.1.2 构造函数
---
1. 无参: 直接创建一个null数组，是**懒加载**，当第一次使用后在创建默认大小数组。
2. 集合数组：先获得数组（toArray()）集合为空直接赋值为空，集合不为空且类型与ArrayList相同直接相等，不为空且类型不相同使用Arrays.copyOf赋值。
3. 初始容量大小：参数<0抛出异常，>0直接创建参数大小数组，=0赋值空数组。

### 1.1.2 add
---
1. 传递minCap = size+1，判断当前容量。
2. 判断是否为默认空数组，等于返回默认容量和参数最大值minCap。
3. 操作数+1，minCap大于当前容量则进行第4步，否则直接进行第7步。
4. 扩充容量为当前**1.5倍左右（位运算>>1）**，取扩充后值和minCap最大值。
5. 如果值大于默认值大致，则取int最大值（2^31 - 1）。如果为负数则直接抛出异常结束任务。
6. 使用Arrays.copyOf将原数组扩大到指定大小，这是一个本地方法。
7. 赋值值到当前数组位置（size），size进行加一。
8. 返回true，操作结束。




# 1. Java集合的快速失败机制 “fail-fast”
